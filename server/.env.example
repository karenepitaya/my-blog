# Server env (example)
# Copy to `server/.env` for local development.
#
# IMPORTANT:
# - Do NOT commit `server/.env` (it contains real secrets).
# - Rotate any secrets that were previously exposed.

# Server port
PORT=3000

# MongoDB connection (required by server runtime)
MONGO_USERNAME=bloguser
MONGO_PASSWORD=change_me
MONGO_DBNAME=myblog
MONGO_HOST=127.0.0.1
MONGO_PORT=27017

# JWT (required)
# Use a strong random string (>= 32 chars recommended).
JWT_SECRET=change_me

# Optional: salt for like fingerprinting (security hardening)
LIKE_FINGERPRINT_SALT=likes_v1

# Optional bootstrap accounts (used by admin auth init / scripts)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change_me
USER_USERNAME=author
USER_PASSWORD=change_me

# Uploads (optional)
# Local storage dir served as static: `/<UPLOAD_DIR>/...`
# NOTE: must be a single path segment (no / or ..).
UPLOAD_DIR=uploads
# Maximum upload size in bytes (default varies by file category)
UPLOAD_MAX_BYTES=5242880
# For generating absolute URLs in upload responses (optional)
PUBLIC_BASE_URL=http://localhost:3000

# SystemConfig dev preview (optional, dev-only)
SYSTEM_CONFIG_DEV_PREVIEW=true
SYSTEM_CONFIG_DEV_PREVIEW_PATH=.tmp/system-config.preview.json

# SystemConfig caching (optional)
SYSTEM_CONFIG_CACHE=false
SYSTEM_CONFIG_CACHE_TTL_MS=
# Apply published config to in-memory cache (optional)
SYSTEM_CONFIG_APPLY_ON_PUBLISH=true

# Frontend export/sync helpers (optional)
FRONTEND_SITE_CONFIG_PATH=../frontend/src/site.config.ts
FRONTEND_CONTENT_SYNC=false
FRONTEND_CONTENT_OUT_DIR=../frontend/src/content/posts/_generated

# Audit logging (optional)
# Directory to store access logs (JSONL)
LOG_DIR=logs

# Scripts-only alternative (optional)
# If set, scripts may use it instead of split vars above.
MONGO_URI=
